<!DOCTYPE html>
<html>
  <head>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
      <script>
        $('select').selectpicker();

        function enviar(){
          $('#select_input').val($('#select').val());
          $('#form_teste').submit();
        };
      </script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-center mt-5">
        <form method="get" id="form_teste">
          <input class="d-none" id="select_input" name="select_input"/>
          <select class="selectpicker" multiple id="select">
            {% for id in response.ids %}
              <option value="{{id}}" {% if id in selecionados %}selected{% endif %}>{{id}}</option>
            {% endfor %}
          </select>
          <button type="button" onclick="enviar()" class="btn btn-primary ml-3">Filtrar</button>
        </form>
      </div>
      <div class="row mx-5 my-5">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Texto Coluna</th>
              <th scope="col">Valor Coluna</th>
            </tr>
          </thead>
          <tbody>
            {% for valor in response.dados %}
            <tr>
              <td>{{valor.0}}</td>
              <td>{{valor.1}}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>